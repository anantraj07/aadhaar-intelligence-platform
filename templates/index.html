<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aadhaar Intelligence Platform - Advanced Analytics</title>
    <link rel="stylesheet" href="static/css/intelligence.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <svg class="brain-icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path
                        d="M9.5 2c-1.82 0-3.53.5-5 1.35C2.99 4.34 2 6.05 2 8c0 3.98 3.58 7.5 7.5 7.5h1c.28 0 .5.22.5.5s-.22.5-.5.5h-1c-4.65 0-8.5-3.85-8.5-8.5 0-2.49 1.24-4.65 3.5-5.5C5.97 1.5 7.7 1 9.5 1c1.82 0 3.53.5 5 1.35C16.01 3.34 17 5.05 17 7c0 3.98-3.58 7.5-7.5 7.5"
                        stroke-width="2" stroke-linecap="round" />
                </svg>
            </div>
            <h2 class="loading-title">Initializing Intelligence Platform</h2>
            <p class="loading-subtitle">Loading government data • Running ML algorithms</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p class="progress-text" id="progressText">0%</p>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="mainDashboard" class="main-dashboard" style="display: none;">
        <div class="container">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="header-content">
                    <div class="header-icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path
                                d="M9.5 2c-1.82 0-3.53.5-5 1.35C2.99 4.34 2 6.05 2 8c0 3.98 3.58 7.5 7.5 7.5h1c.28 0 .5.22.5.5s-.22.5-.5.5h-1c-4.65 0-8.5-3.85-8.5-8.5 0-2.49 1.24-4.65 3.5-5.5C5.97 1.5 7.7 1 9.5 1c1.82 0 3.53.5 5 1.35C16.01 3.34 17 5.05 17 7c0 3.98-3.58 7.5-7.5 7.5"
                                stroke-width="2" />
                        </svg>
                    </div>
                    <div>
                        <h1 class="header-title">Aadhaar Intelligence Platform</h1>
                        <p class="header-subtitle">Advanced Analytics & ML-Powered Government Insights</p>
                    </div>
                </div>
                <button class="btn-export" id="exportBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3" stroke-width="2"
                            stroke-linecap="round" />
                    </svg>
                    Export Report
                </button>
            </header>

            <!-- Filters -->
            <section class="filters-section">
                <div class="filters-header">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" stroke-width="2" />
                    </svg>
                    <h3>Advanced Filters</h3>
                </div>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>State</label>
                        <select id="stateFilter" class="filter-select">
                            <option value="all">All States</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>District</label>
                        <select id="districtFilter" class="filter-select" disabled>
                            <option value="all">All Districts</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Date Range</label>
                        <select id="dateFilter" class="filter-select">
                            <option value="all">All Time</option>
                            <option value="7d">Last 7 Days</option>
                            <option value="30d">Last 30 Days</option>
                            <option value="90d">Last 90 Days</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Stats Cards -->
            <section class="stats-grid">
                <div class="stat-card stat-card-blue">
                    <div class="stat-header">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path
                                d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"
                                stroke-width="2" />
                        </svg>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" stroke-width="2" />
                        </svg>
                    </div>
                    <h3>Total Enrollments</h3>
                    <p class="stat-value" id="totalEnrollments">0</p>
                    <p class="stat-subtitle" id="totalRecords">0 records</p>
                </div>

                <div class="stat-card stat-card-purple">
                    <div class="stat-header">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke-width="2" />
                            <line x1="16" y1="2" x2="16" y2="6" stroke-width="2" />
                            <line x1="8" y1="2" x2="8" y2="6" stroke-width="2" />
                            <line x1="3" y1="10" x2="21" y2="10" stroke-width="2" />
                        </svg>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" stroke-width="2" />
                        </svg>
                    </div>
                    <h3>Avg Daily Enrollments</h3>
                    <p class="stat-value" id="avgDaily">0</p>
                    <p class="stat-subtitle">Per day average</p>
                </div>

                <div class="stat-card stat-card-pink">
                    <div class="stat-header">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" stroke-width="2" />
                        </svg>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" stroke-width="2" />
                        </svg>
                    </div>
                    <h3>Peak Enrollments</h3>
                    <p class="stat-value" id="peakEnrollments">0</p>
                    <p class="stat-subtitle" id="peakDate">-</p>
                </div>

                <div class="stat-card stat-card-amber">
                    <div class="stat-header">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2" />
                            <circle cx="12" cy="12" r="6" stroke-width="2" />
                            <circle cx="12" cy="12" r="2" stroke-width="2" />
                        </svg>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" stroke-width="2" />
                        </svg>
                    </div>
                    <h3>Capacity Utilization</h3>
                    <p class="stat-value" id="capacityUtil">0%</p>
                    <p class="stat-subtitle" id="efficiency">-</p>
                </div>
            </section>

            <!-- Tabs -->
            <nav class="tabs-nav">
                <button class="tab-btn active" data-tab="overview">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" stroke-width="2" />
                    </svg>
                    Overview
                </button>
                <button class="tab-btn" data-tab="timeseries">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" stroke-width="2" />
                    </svg>
                    Time Series
                </button>
                <button class="tab-btn" data-tab="dataanalysis">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 2v20M2 12h20" stroke-width="2" />
                        <circle cx="12" cy="12" r="3" stroke-width="2" />
                    </svg>
                    Data Analysis
                </button>
                <button class="tab-btn" data-tab="clustering">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M9.5 2c-1.82 0-3.53.5-5 1.35C2.99 4.34 2 6.05 2 8c0 3.98 3.58 7.5 7.5 7.5"
                            stroke-width="2" />
                    </svg>
                    ML Clustering
                </button>
                <button class="tab-btn" data-tab="insights">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="10" stroke-width="2" />
                        <circle cx="12" cy="12" r="6" stroke-width="2" />
                    </svg>
                    Gov Insights
                </button>
            </nav>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Overview Tab -->
                <div class="tab-pane active" id="overview">
                    <div class="chart-card">
                        <h3 class="chart-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" stroke-width="2" />
                                <circle cx="12" cy="10" r="3" stroke-width="2" />
                            </svg>
                            Enrollment Distribution
                        </h3>
                        <canvas id="distributionChart"></canvas>
                    </div>

                    <div class="grid-2">
                        <div class="chart-card">
                            <h3 class="chart-title">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke-width="2" />
                                </svg>
                                Age Group Distribution
                            </h3>
                            <canvas id="ageDistChart"></canvas>
                        </div>

                        <div class="chart-card">
                            <h3 class="chart-title">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" stroke-width="2" />
                                </svg>
                                Top Performers
                            </h3>
                            <div id="topPerformers" class="top-performers-list"></div>
                        </div>
                    </div>
                </div>

                <!-- Time Series Tab -->
                <div class="tab-pane" id="timeseries">
                    <div class="chart-card">
                        <h3 class="chart-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" stroke-width="2" />
                            </svg>
                            Enrollment Trends Over Time
                        </h3>
                        <canvas id="timeSeriesChart"></canvas>
                    </div>

                    <div id="anomaliesSection" class="chart-card" style="display: none;">
                        <h3 class="chart-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10" stroke-width="2" />
                                <line x1="12" y1="8" x2="12" y2="12" stroke-width="2" />
                                <line x1="12" y1="16" x2="12.01" y2="16" stroke-width="2" />
                            </svg>
                            Anomaly Detection
                        </h3>
                        <p class="anomaly-count" id="anomalyCount">0 Anomalies Detected</p>
                        <div id="anomaliesList" class="anomalies-grid"></div>
                    </div>

                    <div id="forecastSection" class="chart-card" style="display: none;">
                        <h3 class="chart-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M9.5 2c-1.82 0-3.53.5-5 1.35C2.99 4.34 2 6.05 2 8" stroke-width="2" />
                            </svg>
                            7-Day Forecast
                        </h3>
                        <canvas id="forecastChart"></canvas>
                    </div>
                </div>

                <!-- Data Analysis Tab -->
                <div class="tab-pane" id="dataanalysis">
                    <div class="grid-2">
                        <div class="chart-card">
                            <h3 class="chart-title">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke-width="2" />
                                </svg>
                                Demographic Data Summary
                            </h3>
                            <div id="demographicSummary" class="metrics-list"></div>
                        </div>

                        <div class="chart-card">
                            <h3 class="chart-title">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M12 2a3 3 0 0 0-3 3v4a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z" stroke-width="2" />
                                    <path d="M19 10v2a7 7 0 0 1-14 0v-2" stroke-width="2" />
                                </svg>
                                Biometric Data Summary
                            </h3>
                            <div id="biometricSummary" class="metrics-list"></div>
                        </div>
                    </div>

                    <div class="chart-card">
                        <h3 class="chart-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" stroke-width="2" />
                            </svg>
                            Demographic vs Biometric Coverage
                        </h3>
                        <canvas id="coverageComparisonChart"></canvas>
                    </div>
                </div>

                <!-- Clustering Tab -->
                <div class="tab-pane" id="clustering">
                    <div class="chart-card">
                        <h3 class="chart-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M9.5 2c-1.82 0-3.53.5-5 1.35C2.99 4.34 2 6.05 2 8" stroke-width="2" />
                            </svg>
                            K-Means Clustering Analysis
                        </h3>
                        <p class="chart-subtitle">Identifies distinct enrollment patterns across regions</p>
                        <canvas id="kmeansChart"></canvas>
                    </div>

                    <div class="info-card">
                        <h3>Clustering Insights</h3>
                        <ul class="insights-list">
                            <li>• K-Means: Best for identifying balanced enrollment patterns across age groups</li>
                            <li>• Clusters help identify regions with similar characteristics</li>
                            <li>• Enables targeted policy interventions for each cluster type</li>
                        </ul>
                    </div>
                </div>

                <!-- Insights Tab -->
                <div class="tab-pane" id="insights">
                    <div class="chart-card">
                        <h3 class="chart-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10" stroke-width="2" />
                                <circle cx="12" cy="12" r="6" stroke-width="2" />
                            </svg>
                            Government Action Recommendations
                        </h3>
                        <div id="recommendationsList"></div>
                    </div>

                    <div class="grid-2">
                        <div class="chart-card">
                            <h3 class="chart-title">Capacity Metrics</h3>
                            <div id="capacityMetrics" class="metrics-list"></div>
                        </div>

                        <div class="chart-card">
                            <h3 class="chart-title">Resource Optimization</h3>
                            <div id="resourceOptimization" class="resource-grid"></div>
                        </div>
                    </div>

                    <div class="chart-card">
                        <h3 class="chart-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <line x1="12" y1="1" x2="12" y2="23" stroke-width="2" />
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke-width="2" />
                            </svg>
                            Cost Estimation by Pincode
                        </h3>
                        <p class="chart-subtitle">Detailed operational cost breakdown for selected region</p>
                        <div id="costEstimation"></div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="dashboard-footer">
                <p>Powered by Advanced ML Algorithms • K-Means • Time Series Analysis • Anomaly Detection</p>
                <p>Data Source: UIDAI Government CSV Data (4.9M+ Records)</p>
            </footer>
        </div>
    </div>

    <script src="static/js/intelligence.js"></script>
    <script src="static/js/intelligence-extensions.js"></script>
</body>

</html>
